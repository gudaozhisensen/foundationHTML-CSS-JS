<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../../../static/css/index.css">
    <link rel="stylesheet" href="../../../static/css/common.css">
    <link rel="stylesheet" href="../../../static/css/resize.css">
    <style>
       
    
    </style>
    <title>首页</title>
</head>

<body>
    <header>
        <div class="headerWrapper">
            <div class="title">
                <p>首页</p>
            </div>
            <div class="header_alert_side">
                <a href="../notice/notice.html">
                    <span class="alert"><img src="../../../static/images/icon/bell (1).png" alt="alert"></span>
                    <p class="alert_text">通知</p>
            </a>
            </div>
        </div>
    </header>
    
    <div class="carouselWrapper">
        <div class="carousel" id="carousel">
            <ol>
                <li class="active">&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>
                <li>&nbsp;</li>

            </ol>
            <ul>
                <li><a href=""><img src="../../../static/images/farmer.png"  width="100%"/></a></li>
                <li><a href=""><img src="../../../static/images/farmer.png"  /></a></li>
                <li><a href=""><img src="../../../static/images/farmer.png"  /></a></li>
                <li><a href=""><img src="../../../static/images/farmer.png"  /></a></li>
               
            </ul>
        </div>
    </div>
    <div class="contentWrapper">
            <div class="scrollItem">
                <span>头条：珠海今日港珠澳大桥通车，农民工兄弟有福了</span><span>头条：珠海今日港珠澳大桥通车，农民工兄弟有福了</span>
            </div>
            <div class="tipItem">
                <div class="tipTitle">
                    <img src="../../../static/images/icon/file.png" alt=""> <span>安全教育培训</span>
                    <div class="more">
                        <span><img src="../../../static/images/icon/arrow.png" alt=""></span>
                    </div>
                </div>
                <div class="tipContent">请积极参与安全教育培训哦，答题赢大奖！</div>
            </div>
            <div class="tipItem">
                <div class="tipTitle">
                    <img src="../../../static/images/icon/wallet.png" alt=""> <span>我的工资</span>
                    <div class="more">
                        <a href="../salary/salary.html"><span>更多<img src="../../../static/images/icon/arrow.png" alt=""></span></a>
                    </div>

                </div>
                <div class="salaryWrapper">
                        <img src="../../../static/images/icon/left_arrow_small.png" alt="" width="16rem" height="16rem" class="salaryPrev">
                    <div class="salary">
                        <div class="salaryItem"><span class="salaryDetail">8625.00 元</span></div>
                        <div class="salaryItem"><span class="salaryDetail">8625.00 元</span></div>
                        <div class="salaryItem"><span class="salaryDetail">8625.00 元</span></div>
                        <div class="salaryItem"><span class="salaryDetail">8625.00 元</span></div>
                        <div class="salaryItem"><span class="salaryDetail">8625.00 元</span></div>
                    </div>
                    <img src="../../../static/images/icon/right_arrow_small.png" alt=""  width="16rem"  height="16rem" class="salaryNext">
                </div>
            </div>
            <div class="tipItem">
                <div class="tipTitle">
                    <img src="../../../static/images/icon/calendar.png" alt=""> <span>我的考勤</span>
                    <p>5月份出勤天数：20天</p>
                    <div class="more">
                        <span>更多</span><img src="../../../static/images/icon/arrow.png" alt="">
                    </div>

                </div>
                <div class="tipContent"></div>
            </div>
    </div>
    <footer>
        <a href="#" >
            <div class="bottom_nav_item active_tab"><img src="../../../static/images/icon/doc.png" alt="首页"/>
                <span>首页</span>
            </div>
        </a>
        <a href="../luli/luli.html">
            <div class="bottom_nav_item"><img src="../../../static/images/icon/work_gray.png" alt="工作履历"/>
                <span>工作履历</span>
            </div>
        </a>
        <a href="../command/command.html">
            <div class="bottom_nav_item"><img src="../../../static/images/icon/command_gray.png" alt="用工评价"/>
                <span>用工评价</span>
            </div>
        </a>
        <a href="../mine_info/info.html">
            <div class="bottom_nav_item"><img src="../../../static/images/icon/mine_gray.png" alt="我的"/>
                <span>我的</span>
            </div>
        </a>
    </footer>
</body>
<script src="../../../static/js/swiper.js"></script>
<script src="../../../static/js/prevNext.js"></script>
<script>
    window.onload = function() {
        var rem = 100 * document.body.clientWidth / 1000;  
        document.body.style.fontSize = rem + 'px';  
        window.onresize = function() {    
            rem = 100 * document.body.clientWidth / 1000;    
            document.body.style.fontSize = rem + 'px'; 
        };
// ***************************************************************************************************************
        var carousel = document.getElementById('carousel');
        var aBtn = document.getElementsByTagName('ol')[0].getElementsByTagName('li');
        var sliderContent = document.getElementsByClassName('carousel')[0];
        var slidersWidth  = document.getElementsByTagName('ul')[0];
        var sliders = document.getElementsByTagName('ul')[0].getElementsByTagName('li');
        var scroll = document.getElementsByClassName('scrollItem')[0];
        var now = 0;
        // 轮播长度
        slidersWidth.style.width = sliders.length*sliders[0].offsetWidth+"px";
        
        var timer = setInterval(scrollNext,500);
        function scrollNext() {
            // alert("11");
            // var scrollNow = 0;
            // scrollNow++;
            //     if(scrollNow == aBtn.length){
            //         scrollNow = 0;
            // }
             startMove(scroll, {left: -sliders[0].offsetWidth*now});
        }
     

 

    //    导航器切换
      function tab(){
            for(var i=0;i<aBtn.length;i++)
            {   
                aBtn[i].className='';
            } 
            aBtn[now].className='active';
                    startMove(slidersWidth, {left: -sliders[0].offsetWidth*now});
                }
             
           
            


        //   设置清除计时器
        var timer = setInterval(next,2000);

        //   鼠标移入清除计时器

        
        for(var i=0;i<aBtn.length;i++){
                        aBtn[i].index = i;
                        aBtn[i].onclick = function (){
                            if(now == this.index){
                                        return;
                                    }
                                now = this.index;
                                tab();
                           console.log("timer:"+timer);
                        };  
                    }


//*****************************左右滑动*****************************************//       
 // 左滑
    function prev()
        {
            now--;
            if(now==-1)
            {
                now=aBtn.length-1;
            }
            
            tab();
        };   

 //右滑
 function next() {
          now++;
          if(now == aBtn.length){
              now = 0;
          }
          tab();
      }

var startX = 0;
var endX = 0;

function touchEvent(e) {
    e.stopPropagation();
    e.preventDefault();
    if(e.type == "touchstart"){
        startX = e.touches[0].clientX;
       
    }else if(e.type == "touchmove"){
        var currentX = e.touches[0].clientX;
    
        var distance = 0;
        
        }else if(e.type == "touchend"){
            endX = e.changedTouches[0].clientX;
            // 计算移动距离为正还是为负,取整
            distance = parseInt(endX - startX);
            console.log(distance);
            if(distance == 0){
                return
            }else if(distance < 0){
                next();
            }else{
                prev();
            }
    }
}
        sliderContent.addEventListener('touchstart',touchEvent,false);
        sliderContent.addEventListener('touchmove',touchEvent,false);
        sliderContent.addEventListener('touchend',touchEvent,false);
//************************************************************************//

// tab切换
        for(var i=0;i<aBtn.length;i++){
                aBtn[i].index = i;
                aBtn[i].onclick = function (){
                    clearInterval(timer);
                    if(now == this.index){
                        return;
                    }
                    now = this.index;
                    
                    tab();
                };  
            }

 var salaryWrapper = document.querySelector('.salaryWrapper');
 var salary = salaryWrapper.querySelector('.salary');
 var salaryItem = salary.getElementsByClassName('salaryItem');
 var salaryPrev = salaryWrapper.querySelector('.salaryPrev');
 var salaryNext = salaryWrapper.querySelector('.salaryNext');
//  console.log(next);
//  console.log(salaryItem.length);
 salaryPrev.onclick = function(){
    {
            now--;
            if(now == -1)
            {
                now=salaryItem.length-1;
            }
            
            startMove(salary, {left: -salaryItem[0].offsetWidth*now});
        }; 
 }

 salaryNext.onclick = function(){
    {
            now++;
            if(now == salaryItem.length)
            {
                now=0;
            }
            
            startMove(salary, {right: salaryItem[0].offsetWidth*now});
        }; 
 }
    }

</script>

</html>